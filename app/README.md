# Vibe-Aware Airbnb Pricing App

**Interactive web application for data-driven Airbnb price recommendations**

Built by: Nicholas George, Sahil Medepalli, Heath Verhasselt
Course: MIS5460 Advanced Business Analytics, Fall 2025
Iowa State University, Ivy College of Business

## Features

### üè† Home Page
- Project overview and key findings
- City selection (London, Austin, NYC)
- Quick access to vibe maps or pricing tools

### üó∫Ô∏è Interactive Vibe Maps
- Heat maps for all 3 cities showing neighborhood vibe scores
- Color-coded: Dark blue (low vibe) ‚Üí Bright red (high vibe)
- Click neighborhoods for detailed vibe scores
- Explore before pricing your property

### üìä London Pricing Tool (Full Functionality)

**Property Input Form:**
- Property type (Entire home, Private room, etc.)
- Neighborhood selection (33 London neighborhoods)
- Capacity, bedrooms, bathrooms
- Amenities checklist (50 most common amenities)
- Minimum/maximum nights
- Estimated price

**Analysis Outputs:**

1. **Neighborhood Vibe Profile**
   - Overall vibe score (0-100)
   - 11-dimension radar chart (walkability, safety, nightlife, etc.)
   - Top vibe dimensions highlighted

2. **k-NN Price Band Recommendation**
   - Finds 25 similar properties
   - Filters to high-demand comps (‚â•75% occupancy)
   - Provides price range (25th-75th percentile)
   - Confidence indicator based on # of comparables

3. **Revenue Optimization Curve**
   - Tests 50 price points (0.5x to 2.0x your estimate)
   - Predicts occupancy at each price using XGBoost
   - Calculates monthly revenue
   - Identifies optimal price for max revenue
   - Shows "safe band" where occupancy stays ‚â•75%

4. **Interactive Price Slider**
   - Drag to test different prices
   - Real-time occupancy prediction
   - Revenue comparison vs. your estimate
   - Occupancy gauge visualization

5. **Final Recommendations**
   - Combines k-NN and XGBoost insights
   - Consensus pricing when models agree
   - Actionable next steps

### üá∫üá∏ Austin & üóΩ NYC (Coming Soon)
- Placeholder pages ready for full implementation
- Same features as London (copy and customize)

## Running the App

### Prerequisites
- Python 3.12+ in WSL2
- Virtual environment activated
- All dependencies installed (see main project README)

### Launch Command

```bash
# From the project root directory
cd /mnt/c/Users/Nicholas/adv_ba_project/app
source ../venv/bin/activate
streamlit run Home.py
```

### Access the App
- Local URL: http://localhost:8501
- Network URL: Will be shown in terminal output

### Stop the App
- Press `Ctrl+C` in the terminal

## App Structure

```
app/
‚îú‚îÄ‚îÄ Home.py                      # Landing page with city selection
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îú‚îÄ‚îÄ 1_üá¨üáß_London.py          # Full London pricing tool
‚îÇ   ‚îú‚îÄ‚îÄ 2_üá∫üá∏_Austin.py          # Austin pricing (placeholder)
‚îÇ   ‚îú‚îÄ‚îÄ 3_üóΩ_NYC.py               # NYC pricing (placeholder)
‚îÇ   ‚îî‚îÄ‚îÄ 4_üó∫Ô∏è_Vibe_Maps.py        # Interactive maps for all cities
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ model_loader.py          # Load models and data
‚îÇ   ‚îî‚îÄ‚îÄ predictor.py             # k-NN and XGBoost predictions
‚îî‚îÄ‚îÄ README.md                    # This file
```

## Data Dependencies

The app requires the following data files (all generated by project scripts):

### Per City:
- `data/{city}/raw/01_vibe_features_for_modeling.csv` (vibe scores)
- `data/{city}/processed/features_{city}_train.parquet` (training data)
- `data/{city}/models/xgboost_with_vibe.pkl` (XGBoost model)
- `data/{city}/models/ols_price_control.pkl` (OLS model for control function)
- `data/{city}/outputs/vibe_map_app.html` (interactive vibe map)

### Global:
- `data/amenities_master_list.json` (16,781 amenities across all cities)

## Model Details

### k-NN Pricing Engine
- **Algorithm**: k-Nearest Neighbors with k=25
- **Features**: Property characteristics + 11 vibe dimensions
- **Filtering**: Only uses high-demand neighbors (‚â•75% occupancy)
- **Output**: Price band (25th-75th percentile)
- **Confidence**: Based on number of high-demand comparables found

### XGBoost Occupancy Predictor
- **Algorithm**: Gradient Boosting (XGBoost)
- **Control Function**: Two-stage approach to handle price endogeneity
- **Features**: 47 total (property, vibe, host, reputation)
- **Output**: Predicted occupancy rate (0-1)
- **Performance**: MAE ~0.22-0.24, R¬≤ 11-37% across cities

### Revenue Optimization
- **Method**: Price grid search (50 points)
- **Objective**: Maximize monthly revenue = price √ó occupancy √ó 30
- **Constraints**: Safe band where occupancy ‚â• 75%
- **Validation**: Tested on 500 listings per city

## Key Statistics

### London
- 96,871 listings analyzed
- 33 neighborhoods
- Vibe range: 15-83
- Median revenue lift: 61.2%
- 88.2% of hosts should increase price

### Austin
- 15,187 listings analyzed
- 44 neighborhoods
- Vibe range: 7-100
- Median revenue lift: 103.7% (highest!)
- 97.8% of hosts should increase price

### NYC
- 36,111 listings analyzed
- 224 neighborhoods
- Vibe range: 11-100
- Median revenue lift: 55.5%
- 80.4% of hosts should increase price

## Usage Tips

1. **Start with London** - Full functionality available
2. **Explore vibe maps first** - Understand neighborhood characteristics
3. **Be realistic with inputs** - Use actual property details
4. **Test multiple scenarios** - Try different neighborhoods or amenity counts
5. **Consider both models** - k-NN shows market reality, XGBoost shows optimization potential
6. **Use the slider** - Experiment with prices to understand occupancy trade-offs

## Deployment Options

### Local (Current)
- Run on localhost for development
- Access via http://localhost:8501
- Best for testing and demos

### Streamlit Cloud (Recommended for Team)
1. Push code to GitHub repository
2. Connect to Streamlit Cloud
3. Deploy with one click
4. Share link with team members
5. **Note**: May need to reduce model file sizes or use model API

### University Server
- Deploy on Iowa State servers
- Requires IT approval and setup
- Good for class presentation

## Troubleshooting

**App won't start:**
- Ensure virtual environment is activated
- Check all data files exist
- Verify models were trained successfully

**Predictions failing:**
- Check model files in `data/{city}/models/`
- Ensure training data exists
- Look for error messages in terminal

**Maps not showing:**
- Verify vibe_map_app.html files exist
- Check browser console for JavaScript errors
- Try hard refresh (Ctrl+F5)

**Slow performance:**
- Model loading happens once (cached)
- First prediction may be slower
- Subsequent predictions are fast

## Future Enhancements

- [ ] Complete Austin and NYC pages (copy London template)
- [ ] Add address geocoding to auto-detect neighborhood
- [ ] Multi-neighborhood comparison tool
- [ ] PDF report generation
- [ ] Photo quality analysis integration
- [ ] Seasonal pricing adjustments
- [ ] Mobile optimization
- [ ] User authentication for saving properties

## Contact

For issues or questions:
- Nicholas George: [email]
- Sahil Medepalli: [email]
- Heath Verhasselt: [email]

---

**Built with:** Streamlit, XGBoost, Scikit-learn, Plotly, Folium
**Data source:** Inside Airbnb (September 2025)
**Models trained:** November 2025
**App developed:** November 2025
